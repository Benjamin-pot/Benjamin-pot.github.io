<!doctype html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>1A2B</title>
    <link rel="stylesheet" href="/css/main.css">

    <script>

      function set() {

        document.getElementById("result").innerHTML="";
        document.getElementById("ans").innerHTML="";
        var random;
        var a=[0,1,2,3,4,5,6,7,8,9];
        for(var i=0;i<n;i++){
          random=Math.floor(Math.random()*a.length);
          ans[i]=a[random];
          a.splice(random,1);
        }
      }

      function f(){
        var A=0,B=0;
        for(var i=0;i<ans.length;i++){
          for(var j=0;j<ans.length;j++){
            if(ans[i]==guess.value[j]){
              if(i==j){
                A++;
              }else{
                B++;
              }
            }
          }
        }
        var nodeLi =document.createElement("li");

        if(A==ans.length){
          var f_result = document.createTextNode(guess.value+" "+"Bingo!");
          nodeLi.appendChild(f_result);
          nodeLi.style="color:green";
        }else{
          var f_result = document.createTextNode(guess.value+" "+A+"A"+B+"B");
          nodeLi.appendChild(f_result);
          nodeLi.style="color:red";



        }

        document.getElementById("result").appendChild(nodeLi);

        guess.value="";
      }

      function guess_rule(){
        if (guess.value.length==n){
          for(var i=0;i<guess.value.length;i++){
            if(guess.value[i]<='9'&& guess.value[i]>='0'){
              for(var j=i+1;j<guess.value.length;j++){
                if(guess.value[i]==guess.value[j]){
                  alert("請勿輸入相同數字");
                  guess.value="";
                  return 0;
                }
              }
            }else{
              alert("請勿輸入數字以外的文字符號");
              guess.value="";
              return 0;
            }
          }
          f();
        }else{
          alert("請輸入"+n+"位數字");
          guess.value="";
        }
      }

      function print_ans(){
        document.getElementById("ans").innerHTML="答案是："+ ans.join('');
      }

    </script>

    <style>
      form,h1,h2{text-align:center}
      body{background-color: #d4d4d4;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23474747' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}
    </style>
  </head>

  <body>

    <h1 style="font-size:250%">1A2B</h1>
    <form>
      <h2 id="p1"></h2>
      <input type="text" id="guess" style="text-align: center;font-size:500%;width:50%;background-color: #d4d4d4">
      <br>
      <input type="button" value="Guess!" onclick="guess_rule()" >  
      <input type="reset" value="reset" onclick="set()">
      <input type="button" value="answer" onclick="print_ans()">
    </form>

    <ol id="result">
    </ol>

    <div id="ans" style="text-align:right"></div>


    <script>

      const n=4;
      var ans=[] ;
      set();
      var guess = document.getElementById("guess");
      document.getElementById("p1").innerHTML="請輸入相異的"+n+"個數字:"




    </script>

  </body>

</html>